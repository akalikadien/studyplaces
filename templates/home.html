{% extends 'home_base.html' %}

{% block contents %}
{% for location in study_locations %}
<div class="cards-item-wrapper">
<!--<div class="cards-img-background" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/3/3d/TU-Delft-Bibl-1.jpg')"></div>-->
    <div class="cards-img-background" style="background-image: url('{{ data[loop.index-1][7] }}');"></div>
    <div class="ranking-number">
            {{ loop.index }}
        </div>
    <div class="img-text-wrapper">
    <div class="cards-review-wrapper">
    <!--                            <img src="https://images.unsplash.com/photo-1459679749680-18eb1eb37418?ixid=MXwxMjA3fDB8MHxzZWFyY2h8M3x8YW1zdGVyZGFtfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60">-->
        <div class="table-title">
            {{ location }}
        </div>
          <div class="cart-review-table">
        <table>
          <thead>
            <tr>
                <th>{{column_names[2]}}</th>
                <td><progress id="progress-bar"  value="{{ data[loop.index-1][14]}}" max="100"></progress></td>
            </tr>
            <tr>
                <th>{{column_names[3]}}</th>
                <td><progress id="progress-bar"  value="{{ data[loop.index-1][15]}}" max="100"></progress></td>
            </tr>
            <tr>
                <th>{{column_names[4]}}</th>
                <td><progress id="progress-bar"  value="{{ data[loop.index-1][16]}}" max="100"></progress></td>
            </tr>
            <tr>
                <th>{{column_names[5]}}</th>
                <td><progress id="progress-bar"  value="{{ data[loop.index-1][17]}}" max="100"></progress></td>
            </tr>
            <tr>
                <th>{{column_names[6]}}</th>
                <td><progress id="progress-bar"  value="{{ data[loop.index-1][18]}}" max="100"></progress></td>
            </tr>
          </thead>
    </table>
 <button data-modal-target="#modal_{{loop.index}}">See more</button>
</div>
    </div>
</div>
    <!--        <div class="cards-review-button">-->
<!--        <button onclick="toggleCard()" id="cardButton">Show more</button>-->
<!--        </div>-->

      <div class="modal" id="modal_{{loop.index}}">
        <div class="modal-header">
          <div class="title">{{ location }}</div>
          <button data-close-button class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <div class="modal-table">
            <table>
          <thead>
            <tr>
                <th>{{column_names[2]}}</th>
                <th>{{column_names[3]}}</th>
                <th>{{column_names[4]}}</th>
                <th>{{column_names[5]}}</th>
                <th>{{column_names[6]}}</th>
                <th>{{column_names[8]}}</th>
                <th>{{column_names[9]}}</th>
                <th>{{column_names[10]}}</th>
                <th>{{column_names[11]}}</th>
                <th>{{column_names[12]}}</th>
                <th>{{column_names[13]}}</th>
            </tr>
          </thead>
            <tbody>
                    <tr>
                        <td>{{ data[loop.index-1][2] }} {{ data[loop.index-1][14] }}%</td>
                        <td>{{ data[loop.index-1][3] }} {{ data[loop.index-1][15] }}%</td>
                        <td>{{ data[loop.index-1][4] }} {{ data[loop.index-1][16] }}%</td>
                        <td>{{ data[loop.index-1][5] }} {{ data[loop.index-1][17] }}%</td>
                        <td>{{ data[loop.index-1][6] }} {{ data[loop.index-1][18] }}%</td>
                        <td>{{ data[loop.index-1][8] }} {{ data[loop.index-1][19] }}%</td>
                        <td>{{ data[loop.index-1][9] }} {{ data[loop.index-1][20] }}%</td>
                        <td>{{ data[loop.index-1][10] }} {{ data[loop.index-1][21] }}%</td>
                        <td>{{ data[loop.index-1][11] }} {{ data[loop.index-1][22] }}%</td>
                        <td>{{ data[loop.index-1][12] }} {{ data[loop.index-1][23] }}%</td>
                        <td>{{ data[loop.index-1][13] }} {{ data[loop.index-1][24] }}%</td>
                    </tr>
            </tbody>
    </table>
<!--                Change to dynamic url? Or change to website when we deploy-->
                <a href="http://127.0.0.1:5000/{{ data[loop.index-1][25] }}">Go to location page</a>
<!--                <a href="url_for('location_page', variable={{ data[loop.index-1][25] }})">Go to location page</a>-->
</div>
        </div>
      </div>
</div>
{% endfor %}
{% endblock %}